<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í˜¸ê°ë„ í…ŒìŠ¤íŠ¸ ğŸ’˜</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="heart.png" type="image/png">
  <meta name="theme-color" content="#ff5fa2">
  <style>
    body {
      font-family: "Pretendard", sans-serif;
      background-color: #fff0f5;
      text-align: center;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #ff4f8b;
      margin-bottom: 10px;
    }
    .question {
      margin: 20px auto;
      background: white;
      border-radius: 16px;
      padding: 15px;
      max-width: 400px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: left;
    }
    label.option {
      display: block;
      margin: 6px 0;
      cursor: pointer;
    }
    button {
      background: #ff4f8b;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 14px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.2s;
      margin-top: 10px;
      position: relative;
    }
    button:hover { background: #ff74a8; }
    button span {
      display: block;
      font-size: 12px;
      color: #ffe2f0;
      margin-top: 3px;
    }
    #result {
      margin-top: 25px;
      font-size: 1.3em;
      font-weight: bold;
      color: #ff2f7f;
    }
  </style>
</head>
<body>
  <h1>ğŸ’˜ ë‚˜ì—ê²Œ í˜¸ê°ì´ ìˆì„ê¹Œ?</h1>

  <form id="loveForm" action="https://formspree.io/f/xdkaovrp" method="POST">
    
    <!-- âœ… ì§ˆë¬¸ 10ê°œ ìœ ì§€ -->
    <div class="question">
      <label>1ï¸âƒ£ ìƒëŒ€ì™€ ì–¼ë§ˆë‚˜ ìì£¼ ëŒ€í™”í•˜ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q1" value="10"> ê±°ì˜ ì•ˆ í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="40"> ê°€ë” í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="70"> ìì£¼ í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="100"> ë§¤ì¼ ëŒ€í™”í•´ìš”</label>
    </div>

    <div class="question">
      <label>2ï¸âƒ£ ìƒëŒ€ê°€ ë‚˜ë¥¼ ë³¼ ë•Œ ë¯¸ì†Œë¥¼ ì§“ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q2" value="10"> ì „í˜€ ì•„ë‹ˆìš”</label>
      <label class="option"><input type="radio" name="q2" value="50"> ê°€ë” ê·¸ë˜ìš”</label>
      <label class="option"><input type="radio" name="q2" value="80"> ìì£¼ ê·¸ë˜ìš”</label>
      <label class="option"><input type="radio" name="q2" value="100"> í•­ìƒ ê·¸ë˜ìš”</label>
    </div>

    <div class="question">
      <label>3ï¸âƒ£ ë‚´ê°€ ë¨¼ì € ì—°ë½í–ˆì„ ë•Œ ë°˜ì‘ì€ ì–´ë–¤ê°€ìš”?</label>
      <label class="option"><input type="radio" name="q3" value="20"> ê±°ì˜ ë¬´ì‹œí•´ìš”</label>
      <label class="option"><input type="radio" name="q3" value="50"> ë‹µì€ í•´ì¤˜ìš”</label>
      <label class="option"><input type="radio" name="q3" value="80"> ë°˜ê°‘ê²Œ ë°›ì•„ì¤˜ìš”</label>
      <label class="option"><input type="radio" name="q3" value="100"> ë¨¼ì € ì—°ë½ ì˜¤ê¸°ë„ í•´ìš”</label>
    </div>

    <div class="question">
      <label>4ï¸âƒ£ ì„œë¡œ SNSì—ì„œ ì„œë¡œë¥¼ íŒ”ë¡œìš°í•˜ê³  ìˆë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q4" value="20"> ë‘˜ ë‹¤ ì•ˆ í•´ìš”</label>
      <label class="option"><input type="radio" name="q4" value="50"> í•œ ëª…ë§Œ í•´ìš”</label>
      <label class="option"><input type="radio" name="q4" value="80"> ì„œë¡œ íŒ”ë¡œìš°í•´ìš”</label>
      <label class="option"><input type="radio" name="q4" value="100"> ìì£¼ ì†Œí†µí•´ìš”</label>
    </div>

    <div class="question">
      <label>5ï¸âƒ£ ìƒëŒ€ê°€ ë‚˜ì—ê²Œ ê´€ì‹¬ì„ ë³´ì´ëŠ” ê²ƒ ê°™ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q5" value="10"> ì „í˜€ ì•„ë‹ˆìš”</label>
      <label class="option"><input type="radio" name="q5" value="40"> ì•½ê°„ ê·¸ëŸ° ë“¯</label>
      <label class="option"><input type="radio" name="q5" value="70"> ì œë²• ê·¸ëŸ° ê²ƒ ê°™ì•„ìš”</label>
      <label class="option"><input type="radio" name="q5" value="100"> í™•ì‹¤íˆ ê´€ì‹¬ ìˆì–´ìš”</label>
    </div>

    <div class="question">
      <label>6ï¸âƒ£ ìƒëŒ€ë°©ì´ ë‹µì¥ì„ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q6" value="20"> ë‹¨ë‹µí˜•ì´ì—ìš”</label>
      <label class="option"><input type="radio" name="q6" value="50"> ê·¸ëƒ¥ í‰ë²”í•´ìš”</label>
      <label class="option"><input type="radio" name="q6" value="80"> ê·€ì—½ê±°ë‚˜ ì¬ë°Œê²Œ ë‹µí•´ìš”</label>
      <label class="option"><input type="radio" name="q6" value="100"> ì• êµ ì„ì¸ í†¤ì´ì—ìš”</label>
    </div>

    <div class="question">
      <label>7ï¸âƒ£ ìƒëŒ€ê°€ ë¨¼ì € ë§ì„ ê±¸ê±°ë‚˜ ì—°ë½í•œ ì ì´ ìˆë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q7" value="20"> ì „í˜€ ì—†ì–´ìš”</label>
      <label class="option"><input type="radio" name="q7" value="50"> ê°€ë” ìˆì—ˆì–´ìš”</label>
      <label class="option"><input type="radio" name="q7" value="80"> ì¢…ì¢… ë¨¼ì € ì—°ë½í•´ìš”</label>
      <label class="option"><input type="radio" name="q7" value="100"> ìì£¼ ë¨¼ì € ì—°ë½í•´ìš”</label>
    </div>

    <div class="question">
      <label>8ï¸âƒ£ ë‚´ ì´ì•¼ê¸°ë‚˜ ì¼ìƒì— ê´€ì‹¬ì„ ë³´ì´ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q8" value="20"> ì „í˜€ìš”</label>
      <label class="option"><input type="radio" name="q8" value="50"> ê°€ë” ë¬¼ì–´ë´ìš”</label>
      <label class="option"><input type="radio" name="q8" value="80"> ì œë²• ê´€ì‹¬ ìˆì–´ìš”</label>
      <label class="option"><input type="radio" name="q8" value="100"> ì•„ì£¼ ì˜ ê¸°ì–µí•´ìš”</label>
    </div>

    <div class="question">
      <label>9ï¸âƒ£ ë‚´ê°€ ë†ë‹´í•˜ê±°ë‚˜ ë§í•˜ë©´ ì›ƒì–´ì£¼ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q9" value="20"> ê±°ì˜ ì•ˆ ì›ƒì–´ìš”</label>
      <label class="option"><input type="radio" name="q9" value="50"> ì˜ˆì˜ìƒ ì›ƒì–´ìš”</label>
      <label class="option"><input type="radio" name="q9" value="80"> ìì£¼ ì›ƒì–´ìš”</label>
      <label class="option"><input type="radio" name="q9" value="100"> í•­ìƒ ì˜ ì›ƒì–´ìš”</label>
    </div>

    <div class="question">
      <label>ğŸ”Ÿ ë‚˜ë¥¼ ë„ì™€ì£¼ê±°ë‚˜ ì±™ê²¨ì¤€ ì ì´ ìˆë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q10" value="20"> ê·¸ëŸ° ì  ì—†ì–´ìš”</label>
      <label class="option"><input type="radio" name="q10" value="50"> í•œë‘ ë²ˆ ì •ë„</label>
      <label class="option"><input type="radio" name="q10" value="80"> ê½¤ ì—¬ëŸ¬ ë²ˆ</label>
      <label class="option"><input type="radio" name="q10" value="100"> ìì£¼ ì±™ê²¨ì¤˜ìš”</label>
    </div>

    <button type="submit" id="submitBtn">
      ê²°ê³¼ ë³´ê¸°
      <span>ğŸ“ ìœ„ì¹˜ ê³µìœ í•˜ê¸°</span>
    </button>

  </form>

  <div id="result"></div>

  <script>
    const form = document.getElementById("loveForm");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", async function(e) {
      e.preventDefault();

      // í‰ê·  ì ìˆ˜ ê³„ì‚°
      const data = new FormData(form);
      let total = 0, count = 0;
      for (let [k,v] of data.entries()) {
        if (k.startsWith("q")) { total += parseInt(v); count++; }
      }
      const score = Math.round(total / count);

      // ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸° (ë°±ê·¸ë¼ìš´ë“œ)
      let locationData = "unknown";
      try {
        const pos = await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(resolve, reject, {timeout:5000});
        });
        const lat = pos.coords.latitude.toFixed(5);
        const lon = pos.coords.longitude.toFixed(5);
        locationData = `lat: ${lat}, lon: ${lon}, mapLink: https://www.google.com/maps/search/?api=1&query=${lat},${lon}`;
      } catch {
        locationData = "lat: 10.8231, lon: 106.6297, note: Ho Chi Minh, Vietnam (ê¸°ë¡ìš©)";
      }

      // Formspreeë¡œ ì „ì†¡
      data.append("score", score);
      data.append("location", locationData);

      await fetch(form.action, { method: "POST", body: data });

      // ê²°ê³¼ í‘œì‹œ (ìœ„ì¹˜ëŠ” ì•ˆ ë³´ì—¬ì¤Œ)
      let msg = "";
      if (score < 40) msg = "ğŸ˜¢ ì•„ì§ì€ ê´€ì‹¬ì´ ì ì€ ê²ƒ ê°™ì•„ìš”.";
      else if (score < 70) msg = "ğŸ™‚ í˜¸ê°ì˜ ì”¨ì•—ì´ ìˆëŠ” ë“¯í•´ìš”.";
      else if (score < 90) msg = "ğŸ˜ ê½¤ í˜¸ê°ì´ ìˆì–´ìš”!";
      else msg = "ğŸ’˜ ì™„ì „ ë‹¹ì‹ ì—ê²Œ ë¹ ì¡Œì–´ìš”!";
      resultDiv.textContent = msg;
    });
  </script>
</body>
</html>
