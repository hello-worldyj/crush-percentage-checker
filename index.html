<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Love Quiz ğŸ’•</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ff6699">
  <link rel="icon" href="heart.png">

  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      background-color: #ffe6ec;
      margin: 0;
      text-align: center;
      color: #333;
    }
    img.logo {
      width: 120px;
      margin: 30px auto 10px;
      display: block;
    }
    h1 {
      color: #ff6699;
    }
    form {
      max-width: 500px;
      background: #fff;
      padding: 20px;
      margin: 20px auto;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: left;
    }
    .question { margin-bottom: 20px; }
    .question label { font-weight: bold; color: #ff6699; display:block; margin-bottom:6px; }
    .option { display:block; margin:3px 0; }
    button {
      background: #ff6699;
      color: white;
      border: none;
      padding: 12px;
      width: 100%;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
    }
    button:hover { background: #ff4d88; }
    #installButton {
      background: #ffb3c6;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 10px;
      margin-top: 10px;
      cursor: pointer;
      display: none;
    }
    #result {
      background: white;
      margin: 20px auto;
      padding: 20px;
      border-radius: 12px;
      max-width: 500px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

  <img src="heart.png" alt="Love Logo" class="logo">
  <h1>ì‚¬ë‘ ê¶í•© í…ŒìŠ¤íŠ¸ ğŸ’˜</h1>

  <form id="loveForm">
    <div class="question">
      <label>1ï¸âƒ£ ì–¼ë§ˆë‚˜ ìì£¼ ëŒ€í™”í•˜ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q1" value="10"> ê±°ì˜ ì•ˆ í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="40"> ê°€ë” í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="70"> ìì£¼ í•´ìš”</label>
      <label class="option"><input type="radio" name="q1" value="100"> ë§¤ì¼ í•´ìš”</label>
    </div>

    <div class="question">
      <label>2ï¸âƒ£ ë‚˜ë¥¼ ë³¼ ë•Œ ì›ƒì–´ì£¼ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q2" value="10"> ì•„ë‹ˆìš”</label>
      <label class="option"><input type="radio" name="q2" value="50"> ê°€ë” ê·¸ë˜ìš”</label>
      <label class="option"><input type="radio" name="q2" value="80"> ìì£¼ ê·¸ë˜ìš”</label>
      <label class="option"><input type="radio" name="q2" value="100"> í•­ìƒ ê·¸ë˜ìš”</label>
    </div>

    <div class="question">
      <label>3ï¸âƒ£ ì—°ë½ ë°˜ì‘ì€ ì–´ë–¤ê°€ìš”?</label>
      <label class="option"><input type="radio" name="q3" value="20"> ê±°ì˜ ì•ˆ ë°›ì•„ìš”</label>
      <label class="option"><input type="radio" name="q3" value="50"> ë³´í†µì´ì—ìš”</label>
      <label class="option"><input type="radio" name="q3" value="80"> ì˜ ë°›ì•„ì¤˜ìš”</label>
      <label class="option"><input type="radio" name="q3" value="100"> ë¨¼ì € ì—°ë½í•´ìš”</label>
    </div>

    <div class="question">
      <label>4ï¸âƒ£ SNSì—ì„œ ì„œë¡œ íŒ”ë¡œìš°í•˜ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q4" value="20"> ì•„ë‹ˆìš”</label>
      <label class="option"><input type="radio" name="q4" value="50"> í•œìª½ë§Œ</label>
      <label class="option"><input type="radio" name="q4" value="80"> ì„œë¡œ í•´ìš”</label>
      <label class="option"><input type="radio" name="q4" value="100"> ìì£¼ ì†Œí†µí•´ìš”</label>
    </div>

    <div class="question">
      <label>5ï¸âƒ£ ê´€ì‹¬ì„ ë³´ì´ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q5" value="10"> ì „í˜€ìš”</label>
      <label class="option"><input type="radio" name="q5" value="50"> ì¡°ê¸ˆìš”</label>
      <label class="option"><input type="radio" name="q5" value="80"> ê½¤ ë§ì•„ìš”</label>
      <label class="option"><input type="radio" name="q5" value="100"> í™•ì‹¤íˆìš”</label>
    </div>

    <div class="question">
      <label>6ï¸âƒ£ ë‹µì¥ì€ ì–´ë–¤ê°€ìš”?</label>
      <label class="option"><input type="radio" name="q6" value="20"> ë‹¨ë‹µí˜•</label>
      <label class="option"><input type="radio" name="q6" value="50"> í‰ë²”í•´ìš”</label>
      <label class="option"><input type="radio" name="q6" value="80"> ì¬ë°Œì–´ìš”</label>
      <label class="option"><input type="radio" name="q6" value="100"> ê·€ì—¬ì›Œìš”</label>
    </div>

    <div class="question">
      <label>7ï¸âƒ£ ë¨¼ì € ë§ ê±´ ì  ìˆë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q7" value="20"> ì „í˜€ ì—†ì–´ìš”</label>
      <label class="option"><input type="radio" name="q7" value="50"> ê°€ë”</label>
      <label class="option"><input type="radio" name="q7" value="80"> ì¢…ì¢…</label>
      <label class="option"><input type="radio" name="q7" value="100"> ìì£¼ í•´ìš”</label>
    </div>

    <div class="question">
      <label>8ï¸âƒ£ ë‚´ ì–˜ê¸°ì— ë°˜ì‘í•˜ë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q8" value="20"> ë¬´ê´€ì‹¬</label>
      <label class="option"><input type="radio" name="q8" value="50"> ì•½ê°„</label>
      <label class="option"><input type="radio" name="q8" value="80"> ê´€ì‹¬ìˆì–´ìš”</label>
      <label class="option"><input type="radio" name="q8" value="100"> ì•„ì£¼ ê´€ì‹¬ ë§ì•„ìš”</label>
    </div>

    <div class="question">
      <label>9ï¸âƒ£ ë‚´ ë†ë‹´ì— ì›ƒë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q9" value="20"> ê±°ì˜ ì•ˆ ì›ƒì–´ìš”</label>
      <label class="option"><input type="radio" name="q9" value="50"> ì˜ˆì˜ìƒ</label>
      <label class="option"><input type="radio" name="q9" value="80"> ìì£¼</label>
      <label class="option"><input type="radio" name="q9" value="100"> í•­ìƒ ì›ƒì–´ìš”</label>
    </div>

    <div class="question">
      <label>ğŸ”Ÿ ë‚˜ë¥¼ ì±™ê²¨ì¤€ ì  ìˆë‚˜ìš”?</label>
      <label class="option"><input type="radio" name="q10" value="20"> ì—†ì–´ìš”</label>
      <label class="option"><input type="radio" name="q10" value="50"> ê°€ë”</label>
      <label class="option"><input type="radio" name="q10" value="80"> ì—¬ëŸ¬ ë²ˆ</label>
      <label class="option"><input type="radio" name="q10" value="100"> ìì£¼ìš”</label>
    </div>

    <button type="submit">ê²°ê³¼ ë³´ê¸° ğŸ’•</button>
  </form>

  <button id="installButton">ğŸ“² ì•±ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸°</button>

  <div id="result"></div>

  <script>
    // --- PWA ì„¤ì¹˜ ì´ë²¤íŠ¸ ---
    let deferredPrompt;
    const installButton = document.getElementById('installButton');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installButton.style.display = 'block';
    });

    installButton.addEventListener('click', async () => {
      installButton.style.display = 'none';
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') console.log('âœ… ì•± ì„¤ì¹˜ ì™„ë£Œ');
        deferredPrompt = null;
      }
    });

    // --- í¼ ê³„ì‚° ---
    document.getElementById("loveForm").addEventListener("submit", function(e){
      e.preventDefault();
      const inputs = document.querySelectorAll('input[type="radio"]:checked');
      if (inputs.length < 10) {
        alert("ëª¨ë“  ì§ˆë¬¸ì— ë‹µí•´ì£¼ì„¸ìš”!");
        return;
      }
      const score = [...inputs].reduce((sum, i)=>sum+Number(i.value),0)/10;
      let msg = score>=90?"ğŸ’– ì™„ë²½ ì»¤í”Œì´ì—ìš”!"
              :score>=70?"ğŸ’• ì„œë¡œ í†µí•˜ê³  ìˆì–´ìš”!"
              :score>=50?"ğŸŒ¸ ê°€ëŠ¥ì„±ì´ ìˆì–´ìš”!"
              :"ğŸ¥€ ì•„ì§ì€ ë©€ì–´ìš”...";
      document.getElementById("result").innerHTML = `<h3>ê²°ê³¼: ${Math.round(score)}ì </h3><p>${msg}</p>`;
    });

    // --- ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ ---
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
      .then(()=>console.log('ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ ì™„ë£Œ'));
    }
  </script>
</body>
</html>
